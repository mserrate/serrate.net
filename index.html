<!DOCTYPE html>
<html lang=en>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    
    <title>Marçal Serrate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta property="og:type" content="website">
<meta property="og:title" content="Marçal Serrate">
<meta property="og:url" content="http://www.serrate.net/index.html">
<meta property="og:site_name" content="Marçal Serrate">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Marçal Serrate">
    

    
        <link rel="alternate" href="http://feeds.feedburner.com/serratenet" title="Marçal Serrate" type="application/atom+xml" />
    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-33815546-1', 'auto');
ga('send', 'pageview');

</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
    
    


</head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <!--<span class="site-title">Marçal Serrate</span>-->
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/events">Events</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/events">Events</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            <section id="main">
    <article id="post-logistic-regression-with-tensorflow" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/02/18/logistic-regression-with-tensorflow/">Logistic Regression with TensorFlow</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/02/18/logistic-regression-with-tensorflow/">
            <time datetime="2018-02-17T23:00:00.000Z" itemprop="datePublished">2018-02-18</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Machine-Learning/">Machine Learning</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>, <a class="tag-link" href="/tags/DeepLearning/">DeepLearning</a>, <a class="tag-link" href="/tags/MachineLearning/">MachineLearning</a>, <a class="tag-link" href="/tags/TensorFlow/">TensorFlow</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>In the previous post we’ve seen the basics of  &amp; Binary classification.</p>
<p>Now we’re going to see an example with <strong>python</strong> and <strong>TensorFlow</strong>.</p>
<p>On this example we’re going to use the dataset that shows the probability of passing an exam by taking into account <strong>2 features: hours studied vs hours slept</strong>.</p>
<img src="/files/2018/02/HoursStudiedxHoursSlept.png">
<p>First, we’re going to import the dependencies:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import dependencies</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> sklearn</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">data = np.genfromtxt(<span class="string">'data_classification.csv'</span>, delimiter=<span class="string">','</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#Get the 2 features (hours slept &amp; hours studied)</span></span><br><span class="line">X = data[:, <span class="number">0</span>:<span class="number">2</span>]</span><br><span class="line"><span class="comment"># Get the result (0 suspended - 1 approved)</span></span><br><span class="line">Y = data[:, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Plotting</span></span><br><span class="line">pos = np.where(Y == <span class="number">1</span>)</span><br><span class="line">neg = np.where(Y == <span class="number">0</span>)</span><br><span class="line">plt.scatter(X[pos, <span class="number">0</span>], X[pos, <span class="number">1</span>], marker=<span class="string">'o'</span>, c=<span class="string">'b'</span>)</span><br><span class="line">plt.scatter(X[neg, <span class="number">0</span>], X[neg, <span class="number">1</span>], marker=<span class="string">'x'</span>, c=<span class="string">'r'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Hours studied'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Hours slept'</span>)</span><br><span class="line">plt.legend([<span class="string">'Approved'</span>, <span class="string">'Suspended'</span>])</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">#Split the data in train &amp; test</span></span><br><span class="line">Y_reshape = data[:,<span class="number">2</span>].reshape(data[:,<span class="number">2</span>].shape[<span class="number">0</span>], <span class="number">1</span>)</span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(data[:, <span class="number">0</span>:<span class="number">2</span>], Y_reshape)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"x_train shape: "</span> + str(x_train.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"y_train shape: "</span> + str(y_train.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"x_test shape: "</span> + str(x_test.shape))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"y_test shape: "</span> + str(y_test.shape))</span><br><span class="line"></span><br><span class="line">num_features = x_train.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>Now we’re building the logistic regression model with <strong>TensorFlow</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">learning_rate = <span class="number">0.01</span></span><br><span class="line">training_epochs = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">tf.reset_default_graph()</span><br><span class="line"></span><br><span class="line"><span class="comment"># By aving 2 features: hours slept &amp; hours studied</span></span><br><span class="line">X = tf.placeholder(tf.float32, [<span class="keyword">None</span>, num_features], name=<span class="string">"X"</span>)</span><br><span class="line">Y = tf.placeholder(tf.float32, [<span class="keyword">None</span>, <span class="number">1</span>], name=<span class="string">"Y"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize our weigts &amp; bias</span></span><br><span class="line">W = tf.get_variable(<span class="string">"W"</span>, [num_features, <span class="number">1</span>], initializer = tf.contrib.layers.xavier_initializer())</span><br><span class="line">b = tf.get_variable(<span class="string">"b"</span>, [<span class="number">1</span>], initializer = tf.zeros_initializer())</span><br><span class="line"></span><br><span class="line">Z = tf.add(tf.matmul(X, W), b)</span><br><span class="line">prediction = tf.nn.sigmoid(Z)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Calculate the cost</span></span><br><span class="line">cost = tf.reduce_mean(tf.nn.sigmoid_cross_entropy_with_logits(logits = Z, labels = Y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Use Adam as optimization method</span></span><br><span class="line">optimizer = tf.train.AdamOptimizer(learning_rate).minimize(cost)</span><br><span class="line"></span><br><span class="line">init = tf.global_variables_initializer()</span><br><span class="line"></span><br><span class="line">cost_history = np.empty(shape=[<span class="number">1</span>],dtype=float)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> tf.Session() <span class="keyword">as</span> sess:</span><br><span class="line">    sess.run(init)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(training_epochs):</span><br><span class="line">        _, c = sess.run([optimizer, cost], feed_dict=&#123;X: x_train, Y: y_train&#125;)</span><br><span class="line">        print(<span class="string">"Epoch:"</span>, <span class="string">'%04d'</span> % (epoch+<span class="number">1</span>), <span class="string">"cost="</span>, <span class="string">"&#123;:.9f&#125;"</span>.format(c), \</span><br><span class="line">               <span class="string">"W="</span>, sess.run(W), <span class="string">"b="</span>, sess.run(b))</span><br><span class="line">        cost_history = np.append(cost_history, c)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="comment"># Calculate the correct predictions</span></span><br><span class="line">    correct_prediction = tf.to_float(tf.greater(prediction, <span class="number">0.5</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Calculate accuracy on the test set</span></span><br><span class="line">    accuracy = tf.reduce_mean(tf.to_float(tf.equal(Y, correct_prediction)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"Train Accuracy:"</span>, accuracy.eval(&#123;X: x_train, Y: y_train&#125;))</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">"Test Accuracy:"</span>, accuracy.eval(&#123;X: x_test, Y: y_test&#125;))</span><br></pre></td></tr></table></figure>
<p>Our accuracy is 86% not too bad with a dataset of only 100 elements. The optimization of the cost function is as follows:</p>
<img src="/files/2018/02/CostIteration.png" width="450">
<p>So, our linear regression example looks like follows:</p>
<img src="/files/2018/02/Linear.png">

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2018/02/18/logistic-regression-with-tensorflow/" data-id="cjdt7b685000uak8145atprm4" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2018/02/18/logistic-regression-with-tensorflow/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2018/02/18/logistic-regression-with-tensorflow/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-logistic-regression-for-deep-learning-part-i" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2018/01/16/logistic-regression-for-deep-learning-part-i/">Logistic Regression for Deep Learning</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2018/01/16/logistic-regression-for-deep-learning-part-i/">
            <time datetime="2018-01-15T23:00:00.000Z" itemprop="datePublished">2018-01-16</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Machine-Learning/">Machine Learning</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>, <a class="tag-link" href="/tags/DeepLearning/">DeepLearning</a>, <a class="tag-link" href="/tags/MachineLearning/">MachineLearning</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>In this post we’re going to cover some basic intuition to work on <em>logistic regression</em> for Deep Learning algorithms.</p>
<p>Logistic regression is an algorithm for <strong>binary classification</strong>, which is basically used when you want to have your model to return 0 or 1. Some examples: is this image a cat? is this email spam? etc.</p>
<p>The basic equation is:<br>$$<br>\begin{align}<br>   \hat{y} = w^T x + b \label{basic}<br>\end{align}<br>$$</p>
<p>where:</p>
<ul>
<li>$\mathbf{\hat{y}}$: is the value that our model predicts</li>
<li>$\mathbf{w \in \mathbb{R}^n}$: is a vector of $\mathbf{n}$ parameters representing the <strong>weights</strong>.</li>
<li>$\mathbf{x \in \mathbb{R}^n}$: is a vector of $\mathbf{n}$ parameters representing the <strong>features</strong>.</li>
<li>$\mathbf{b \in \mathbb{R}}$: is a scalar representing the <em>bias</em> or <em>intercept</em> term</li>
</ul>
<p>$\mathbf{w}$ and $\mathbf{b}$ are the parameters that control the behavior of the model. We can think of $\mathbf{w}$ as the weights that determine how each <strong>feature</strong> $\mathbf{x_i}$ affects the prediction.</p>
<p>The objective of the machine learning algorithm is to learn the parameters $\mathbf{w}$ and $\mathbf{b}$ so $\mathbf{\hat{y}}$ becomes a good estimate of the chance of being $\mathbf{y}$</p>
<h2 id="Activation-function-Sigmoid"><a href="#Activation-function-Sigmoid" class="headerlink" title="Activation function: Sigmoid"></a>Activation function: Sigmoid</h2><p>The output of the equation ($\ref{basic}$) is a linear function. So, how we transform this linear regression result to a non-linear result? The answer is the <strong>sigmoid function</strong> that transforms our input to a binary output:</p>
<p>$$<br>\begin{align}<br>   \hat{y} = \sigma(w^T x + b)<br>\end{align}<br>$$</p>
<p>where </p>
<p>$$<br>\begin{align}<br>   \sigma(z)  = \frac{1}{1 + e^{-z}}<br>\end{align}<br>$$</p>
<p>The sigmoid function can be represented as:</p>
<img src="/files/2018/01/sigmoid.png">
<p>As you can see this activation function allows us to map results to 0 or 1 given:</p>
<ul>
<li>For larger positive values of $\mathbf{z}$ we will have a $\mathbf{\sigma(z)}$ near <strong>1</strong></li>
<li>For larger negative values of $\mathbf{z}$ we will have a $\mathbf{\sigma(z)}$ near <strong>0</strong> </li>
</ul>
<h2 id="Cost-Function"><a href="#Cost-Function" class="headerlink" title="Cost Function"></a>Cost Function</h2><p>First of all, we have the <strong>loss function</strong> which is used by one training example:<br>$$<br>\begin{align}<br>  \mathcal{L}(\hat{y}, y) = - \bigl(y\log\hat{y} + (1 - y) \log(1 - \hat{y})\bigr)<br>\end{align}<br>$$</p>
<p>And the <strong>cost function</strong> measures how you are performing for the entire training set:<br>$$<br>\begin{align}<br>  \mathcal{J}(w, b) = \frac1m \sum_{i=1}^m \mathcal{L}(\hat{y}^{(i)}, y^{(i)})<br>\end{align}<br>$$</p>
<p>As we want to improve as much as possible the performance, we are going to try to find the w &amp; b  values that minimizes this cost function. And that, is basically what <strong>gradient descent</strong> does for us.</p>
<h2 id="Gradient-descent"><a href="#Gradient-descent" class="headerlink" title="Gradient descent"></a>Gradient descent</h2><p>Gradient descent is one of the most popuar optimization methods for neural networks for its simplicity (although it can have convergence problems due local minimums). Other optimization methods are: <a href="https://arxiv.org/abs/1412.6980" target="_blank" rel="noopener">Adam</a> or RMSprop.<br>The basic idea on gradient descent is that on each iteration (determined by the <em>slope</em> or derivative $\partial$), the <strong>weights</strong> are updated incrementally using a <em>learning rate</em> $\alpha$.</p>
<p>A visual interpretation of <strong>gradient descent</strong> is the following:</p>
<img src="/files/2018/01/gradient.png" width="450" height="243" title="Gradient descent" alt="Gradient descent <br />Source: <a href=https://sebastianraschka.com/faq/docs/closed-form-vs-gd.html>sebastianraschka.com</a>">
<p>Given our cost function $\mathcal{J}(w, b)$, weights and bias are updated with the following formula:</p>
<p>$$<br>\begin{align}<br>  w = w - \alpha\,\frac{\partial\,\mathcal{J}(w, b)}{\partial w}<br>\end{align}<br>$$<br>$$<br>\begin{align}<br>  b = b - \alpha\,\frac{\partial\,\mathcal{J}(w, b)}{\partial b}<br>\end{align}<br>$$</p>
<p>where the symbol $\partial$ in $\partial\,\mathcal{J}(w, b)$ basically means the <strong>derivative</strong> of the cost function.</p>
<p>In the next post, we will see how to apply this theory with an example written with <a href="/2018/02/18/logistic-regression-with-tensorflow/" title="python & TensorFlow">python & TensorFlow</a>.</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2018/01/16/logistic-regression-for-deep-learning-part-i/" data-id="cjdt7b683000sak819a2cbr2s" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2018/01/16/logistic-regression-for-deep-learning-part-i/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2018/01/16/logistic-regression-for-deep-learning-part-i/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-preview-of-kafka-streams" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/03/15/preview-of-kafka-streams/">Preview of Kafka Streams</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/03/15/preview-of-kafka-streams/">
            <time datetime="2016-03-15T01:02:29.000Z" itemprop="datePublished">2016-03-15</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>, <a class="tag-link" href="/tags/Kafka/">Kafka</a>, <a class="tag-link" href="/tags/Storm/">Storm</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>The preview of <strong>Kafka Streams</strong>, which is one of the main features of the upcoming <strong>Apache Kafka 0.10</strong>, was <a href="http://www.confluent.io/blog/introducing-kafka-streams-stream-processing-made-simple" target="_blank">announced by Jay Kreps this week</a>.</p>
<h3 id="Kafka-joins-the-Stream-Processing-club"><a href="#Kafka-joins-the-Stream-Processing-club" class="headerlink" title="Kafka joins the Stream Processing club"></a>Kafka joins the Stream Processing club</h3><p>Kafka Streams is a library to build streaming applications using Kafka topics as input/output. Kafka Streams is in the same league as other streaming systems such as: <strong>Apache Storm</strong>, <strong>Apache Flink</strong> and, not surprisingly, <strong>Apache Samza</strong> which also uses Kafka for input or output of streams.</p>
<p>One of the main advantages is that if you&#8217;re already using Apache Kafka and you need real-time processing, you just need to use the library and you are good to go.</p>
<p>Other important features are: <strong>stateful</strong> processing, <strong>windowing</strong> and ability to be deployed using your preferred solution: a simple command line, <strong>Mesos</strong>, <strong>YARN</strong> or <strong>kubernetes</strong> and <strong>docker</strong> if you&#8217;re a container party boy.</p>
<h3 id="Streams-and-Tables"><a href="#Streams-and-Tables" class="headerlink" title="Streams and Tables"></a>Streams and Tables</h3><p>One of the key concepts in Kafka Streams is the support of <strong>KStream</strong> and <strong>KTable</strong>.</p>
<p>That isn&#8217;t a new concept if you come from the <strong><a href="http://www.serrate.net/2015/02/17/speaking-at-dotnetspain-conference/" target="_blank">Event Sourcing</a></strong> world: the KStream is the append-only event store where its state is given by replaying the events from the beginning of time until the last event whereas KTable is the snapshot or projection of the current state of the stream given a point in time.</p>
<h3 id="Example-Twitter-Hashtags-Job"><a href="#Example-Twitter-Hashtags-Job" class="headerlink" title="Example: Twitter Hashtags Job"></a>Example: Twitter Hashtags Job</h3><img src="/files/2016/03/KafkaStreams-2.png" width="749" height="303" title="Kafka Streams" alt="Kafka Streams: KStream and KTable">
<h3 id="Show-me-the-code"><a href="#Show-me-the-code" class="headerlink" title="Show me the code!"></a>Show me the code!</h3><p>You can find the complete example here: <a href="https://github.com/mserrate/kafka-streams-app" target="_blank">https://github.com/mserrate/kafka-streams-app</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">KStream&lt;String, JsonNode&gt; source = builder.stream(stringDeserializer, jsonDeserializer, <span class="string">"streams-hashtag-input"</span>);</span><br><span class="line"></span><br><span class="line">KTable&lt;String, Long&gt; counts = source</span><br><span class="line">        .filter(<span class="keyword">new</span> HashtagFilter())</span><br><span class="line">        .flatMapValues(<span class="keyword">new</span> HashtagSplitter())</span><br><span class="line">        .map(<span class="keyword">new</span> HashtagMapper())</span><br><span class="line">        .countByKey(stringSerializer, longSerializer, stringDeserializer, longDeserializer, <span class="string">"Counts"</span>);</span><br><span class="line"></span><br><span class="line">counts.to(<span class="string">"streams-hashtag-count-output"</span>, stringSerializer, longSerializer);</span><br></pre></td></tr></table></figure>
<p>For this example I&#8217;ve been using a simple TweetProducer who connects to the <strong>Twitter Streaming API</strong> and sends JSON events to a Kafka topic.</p>
<p>This topic is read as a KStream and then we begin the process:</p>
<ol>
<li>Filter out the tweets without hashtags</li>
<li>Apply a flatMapValues (we are just interested in the values, not the keys) to split the different hashtags in a tweet</li>
<li>Apply a map to return a key (hashtag) value (hashtag) as we want to aggregate by hashtag</li>
<li>Aggregate the streams per key (the hashtag) and count them</li>
</ol>
<p>&nbsp;</p>
<p>Finally we send the KTable to the output queue.</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2016/03/15/preview-of-kafka-streams/" data-id="cjdt7b67y000oak81faqptosz" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2016/03/15/preview-of-kafka-streams/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2016/03/15/preview-of-kafka-streams/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-sentiment-analysis-of-tweets" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/02/07/sentiment-analysis-of-tweets/">Sentiment analysis of tweets</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/02/07/sentiment-analysis-of-tweets/">
            <time datetime="2016-02-07T15:40:34.000Z" itemprop="datePublished">2016-02-07</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>, <a class="tag-link" href="/tags/Storm/">Storm</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>In the previous <a href="http://www.serrate.net/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/" target="_blank">post</a> I have presented an overview of the topology used to analyse twitter streams with <strong>Kafka</strong> and <strong>Storm</strong>. Now it&#8217;s time to cover the technical details of the twitter topology.</p>
<h3 id="Twitter-Topology"><a href="#Twitter-Topology" class="headerlink" title="Twitter Topology"></a>Twitter Topology</h3><img src="/files/2016/02/TwitterTopology_Analysis.png" width="550" height="254" title="Twitter Streaming" alt="Twitter Streaming">
<p>The declaration of the storm topology using KafkaSpout to read the tweets from a kafka queue:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TwitterProcessorTopology</span> <span class="keyword">extends</span> <span class="title">BaseTopology</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TwitterProcessorTopology</span><span class="params">(String configFileLocation)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(configFileLocation);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">configureKafkaSpout</span><span class="params">(TopologyBuilder topology)</span> </span>&#123;</span><br><span class="line">        BrokerHosts hosts = <span class="keyword">new</span> ZkHosts(topologyConfig.getProperty(<span class="string">"zookeeper.host"</span>));</span><br><span class="line"></span><br><span class="line">        SpoutConfig spoutConfig = <span class="keyword">new</span> SpoutConfig(</span><br><span class="line">                hosts,</span><br><span class="line">                topologyConfig.getProperty(<span class="string">"kafka.twitter.raw.topic"</span>),</span><br><span class="line">                topologyConfig.getProperty(<span class="string">"kafka.zkRoot"</span>),</span><br><span class="line">                topologyConfig.getProperty(<span class="string">"kafka.consumer.group"</span>));</span><br><span class="line">        spoutConfig.scheme= <span class="keyword">new</span> SchemeAsMultiScheme(<span class="keyword">new</span> StringScheme());</span><br><span class="line"></span><br><span class="line">        KafkaSpout kafkaSpout= <span class="keyword">new</span> KafkaSpout(spoutConfig);</span><br><span class="line">        topology.setSpout(<span class="string">"twitterSpout"</span>, kafkaSpout);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">configureBolts</span><span class="params">(TopologyBuilder topology)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// filtering</span></span><br><span class="line">        topology.setBolt(<span class="string">"twitterFilter"</span>, <span class="keyword">new</span> TwitterFilterBolt(), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"twitterSpout"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// sanitization</span></span><br><span class="line">        topology.setBolt(<span class="string">"textSanitization"</span>, <span class="keyword">new</span> TextSanitizationBolt(), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"twitterFilter"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// sentiment analysis</span></span><br><span class="line">        topology.setBolt(<span class="string">"sentimentAnalysis"</span>, <span class="keyword">new</span> SentimentAnalysisBolt(), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"textSanitization"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// persist tweets with analysis to Cassandra</span></span><br><span class="line">        topology.setBolt(<span class="string">"sentimentAnalysisToCassandra"</span>, <span class="keyword">new</span> SentimentAnalysisToCassandraBolt(topologyConfig), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"sentimentAnalysis"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// divide sentiment by hashtag</span></span><br><span class="line">        topology.setBolt(<span class="string">"hashtagSplitter"</span>, <span class="keyword">new</span> HashtagSplitterBolt(), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"textSanitization"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// persist hashtags to Cassandra</span></span><br><span class="line">        topology.setBolt(<span class="string">"hashtagCounter"</span>, <span class="keyword">new</span> HashtagCounterBolt(), <span class="number">4</span>)</span><br><span class="line">                .fieldsGrouping(<span class="string">"hashtagSplitter"</span>, <span class="keyword">new</span> Fields(<span class="string">"tweet_hashtag"</span>));</span><br><span class="line"></span><br><span class="line">        topology.setBolt(<span class="string">"topHashtag"</span>, <span class="keyword">new</span> TopHashtagBolt())</span><br><span class="line">                .globalGrouping(<span class="string">"hashtagCounter"</span>);</span><br><span class="line"></span><br><span class="line">        topology.setBolt(<span class="string">"topHashtagToCassandra"</span>, <span class="keyword">new</span> TopHashtagToCassandraBolt(topologyConfig), <span class="number">4</span>)</span><br><span class="line">                .shuffleGrouping(<span class="string">"topHashtag"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildAndSubmit</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        TopologyBuilder builder = <span class="keyword">new</span> TopologyBuilder();</span><br><span class="line">        configureKafkaSpout(builder);</span><br><span class="line">        configureBolts(builder);</span><br><span class="line"></span><br><span class="line">        Config config = <span class="keyword">new</span> Config();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//set producer properties</span></span><br><span class="line">        Properties props = <span class="keyword">new</span> Properties();</span><br><span class="line">        props.put(<span class="string">"metadata.broker.list"</span>, topologyConfig.getProperty(<span class="string">"kafka.broker.list"</span>));</span><br><span class="line">        props.put(<span class="string">"request.required.acks"</span>, <span class="string">"1"</span>);</span><br><span class="line">        props.put(<span class="string">"serializer.class"</span>, <span class="string">"kafka.serializer.StringEncoder"</span>);</span><br><span class="line">        config.put(KafkaBolt.KAFKA_BROKER_PROPERTIES, props);</span><br><span class="line"></span><br><span class="line">        StormSubmitter.submitTopology(<span class="string">"twitter-processor"</span>, config, builder.createTopology());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        String configFileLocation = args[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        TwitterProcessorTopology topology = <span class="keyword">new</span> TwitterProcessorTopology(configFileLocation);</span><br><span class="line">        topology.buildAndSubmit();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
            <p class="article-more-link">
                <a href="/2016/02/07/sentiment-analysis-of-tweets/#more">Read More</a>
            </p>
        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2016/02/07/sentiment-analysis-of-tweets/" data-id="cjdt7b67w000mak81t09yjk3d" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2016/02/07/sentiment-analysis-of-tweets/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2016/02/07/sentiment-analysis-of-tweets/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-analysis-of-twitter-streams-with-kafka-and-storm" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/">Analysis of twitter streams with Kafka and Storm</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/">
            <time datetime="2016-01-05T01:24:07.000Z" itemprop="datePublished">2016-01-05</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>, <a class="tag-link" href="/tags/Cassandra/">Cassandra</a>, <a class="tag-link" href="/tags/Kafka/">Kafka</a>, <a class="tag-link" href="/tags/Storm/">Storm</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Following my last <a href="http://www.serrate.net/2015/12/13/big-data-streams-and-lambdas/">post</a>, I will present a real-time processing sample with Kafka and Storm using the Twitter Streaming API.</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><img src="/files/2016/02/TwitterStreaming.png" width="524" height="247" title="Twitter Streaming" alt="Twitter Streaming">
<p>The solution consists of the following:</p>
<ul>
<li><a href="https://github.com/mserrate/twitter-streaming-app/tree/master/twitter-kafka-producer" target="_blank">twitter-kafka-producer</a>: A very basic producer that reads tweets from the Twitter Streaming API and stores them in Kafka. </li>
<li><a href="https://github.com/mserrate/twitter-streaming-app/tree/master/twitter-storm-topology" target="_blank">twitter-storm-topology</a>: A Storm topology that reads tweets from Kafka and, after applying filtering and sanitization, process the messages in parallel for: <ul>
<li><strong>Sentiment Analysis:</strong> Using a sentiment analysis algorithm to classify the tweet into a positive or negative feeling.</li>
<li><strong>Top Hashtags:</strong> Calculates the top 20 hashtags using a sliding window.</li>
</ul>
</li>
</ul>
<h3 id="Storm-Topology"><a href="#Storm-Topology" class="headerlink" title="Storm Topology"></a>Storm Topology</h3><img src="/files/2016/02/TwitterTopology.png" width="577" height="180" title="Twitter Topology" alt="Twitter Topology">
<p>The Storm topology consist of the following elements:</p>
<ul>
<li><p><strong><a href="https://github.com/apache/storm/tree/master/external/storm-kafka" target="_blank">Kafka Spout</a>:</strong> The spout implementation to read messages from Kafka. </p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/TwitterFilterBolt.java" target="_blank">Filtering</a>:</strong> Filtering out all non-english language tweets. </p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/TextSanitizationBolt.java" target="_blank">Sanitization</a>:</strong> Text normalization in order to be processed properly by the sentiment analysis algorithm.</p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/SentimentAnalysisBolt.java" target="_blank">Sentiment Analysis</a>:</strong> The algorithm that analyses word by word the text of the tweet, giving a value between -1 to 1. </p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/SentimentAnalysisToCassandraBolt.java" target="_blank">Sentiment Analysis to Cassandra</a>:</strong> Stores the tweets and its sentiment value in Cassandra.</p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/HashtagSplitterBolt.java" target="_blank">Hashtag Splitter</a>:</strong> Splits the different hashtags appearing in a tweet. </p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/HashtagCounterBolt.java" target="_blank">Hashtag Counter</a>:</strong> Counts hashtag occurrences.</p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/TopHashtagBolt.java" target="_blank">Top Hashtag</a>:</strong> Does a ranking of the top 20 hashtags given a sliding windows (using the <em>Tick Tuple</em> feature from Storm). </p>
</li>
<li><p><strong><a href="https://github.com/mserrate/twitter-streaming-app/blob/master/twitter-storm-topology/src/main/java/bolts/TopHashtagToCassandraBolt.java" target="_blank">Top Hashtag to Cassandra</a>:</strong> Stores the top 20 hashtags in Cassandra.</p>
</li>
</ul>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>In this post we have seen the benefits of using <strong>Apache Kafka</strong> &amp; <strong>Apache Storm</strong> to ingest and process streams of data, on next posts will look at the implementation details and will provide some analytical insight from the data stored in <strong>Cassandra</strong>.</p>
<p>The sample can be found on Github: <a href="https://github.com/mserrate/twitter-streaming-app" target="_blank" rel="noopener">https://github.com/mserrate/twitter-streaming-app</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/" data-id="cjdt7b67t000iak8171k17qe0" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-big-data-streams-and-lambdas" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2015/12/13/big-data-streams-and-lambdas/" itemprop="url">
            <img src="/files/2015/12/stream_banner.png" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/12/13/big-data-streams-and-lambdas/">Big Data: streams and lambdas</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/12/13/big-data-streams-and-lambdas/">
            <time datetime="2015-12-13T00:31:08.000Z" itemprop="datePublished">2015-12-13</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/BigData/">BigData</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>I&#8217;ve been working for some years now in distributed systems and event-driven architectures, from the misunderstood <a href="http://www.serrate.net/tag/soa/" target="_blank">SOA</a> (or its refurbished version known as <a href="http://udidahan.com/2014/03/31/on-that-microservices-thing/" target="_blank">Microservices</a>) to <a href="http://www.serrate.net/2015/02/17/speaking-at-dotnetspain-conference/" target="_blank">Event Sourcing</a>.</p>
<p>Some of the concepts presented in these systems related to events like <strong>immutability</strong>, <strong>perpetuity</strong> and <strong>versioning</strong> are valid as well for stream processing. Stream processing along with batch processing is sometimes referred as Big Data.</p>
<h3 id="Big-Data"><a href="#Big-Data" class="headerlink" title="Big Data"></a>Big Data</h3><p>When we think about Big Data what it first comes to our mind is <strong>Hadoop</strong> for batch processing. Although Hadoop has a big capacity to process indecent amounts of data, it also comes with a high latency response.</p>
<p>Although this latency won&#8217;t be a problem for a lot of use cases, it may be a problem when we need to get real (or near-real) time feedback.</p>
<p>That&#8217;s where the <a href="http://nathanmarz.com/blog/how-to-beat-the-cap-theorem.html" target="_blank">Lambda Architecture</a> (by Nathan Marz) comes in by describing how to design a system where most of our data is processed by the batch layer but, while this process is running, we are able to process the streams coming into our system:</p>
<img src="/files/2015/12/Lambda_en.png" width="483" height="223" title="Lambda architecture" alt="Lambda architecture">
<p>Where we can say that:</p>
<blockquote><p>Current View = Query(Batch View) + Query(Stream View)</p>
</blockquote>
<h4 id="Batch-Layer"><a href="#Batch-Layer" class="headerlink" title="Batch Layer"></a>Batch Layer</h4><p>The batch processing layer computes arbitrary sets of data using the entire historical data. The obvious example of batch processing is <strong>Hadoop</strong>, or to be more precise, the distributed file system <strong>HDFS</strong> and a processing tool like <strong>MapReduce</strong>, <strong>Pig</strong>…</p>
<p>The result of this process will be stored in a database that should support batch writes (ElephantDB, HBase) but no random writes. That makes the database architecture extremely simple by removing features like online compactation or concurrency.</p>
<h4 id="Stream-Layer"><a href="#Stream-Layer" class="headerlink" title="Stream Layer"></a>Stream Layer</h4><p>The stream processing layer computes data one by one giving immediate feedback. Depending on the number of events or the throughput needed we may use different technologies: <strong>Spark Streaming</strong> (although it&#8217;s micro-batch the latency may be sufficient for many use cases), <strong>Storm</strong>, <strong>Samza</strong>, <strong>Flink</strong>.</p>
<p>The result of this process will be stored in a database that should support random writes, one option may be <strong>Cassandra</strong>.</p>
<p>In following posts I will present concrete examples with docker images using some technologies that I&#8217;ve used like: Kafka, Storm, Cassandra and Druid.</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2015/12/13/big-data-streams-and-lambdas/" data-id="cjdt7b67q000hak81ckvpgydb" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2015/12/13/big-data-streams-and-lambdas/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2015/12/13/big-data-streams-and-lambdas/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-speaking-at-dotnetspain-conference" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            
	
		<a href="/2015/02/17/speaking-at-dotnetspain-conference/" itemprop="url">
            <img src="/files/2015/02/unnamed.jpg" class="article-banner" />
        </a>
	



        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2015/02/17/speaking-at-dotnetspain-conference/">Speaking at DotNetSpain conference</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2015/02/17/speaking-at-dotnetspain-conference/">
            <time datetime="2015-02-17T17:36:13.000Z" itemprop="datePublished">2015-02-17</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CQRS/">CQRS</a>, <a class="tag-link" href="/tags/EventStore/">EventStore</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Too long without posting&#8230; Anyway, a short post to remember that I will be speaking at <a title="DotNetSpain" href="https://www.desarrollaconmicrosoft.com/Dotnetspain2015/Agenda?day=27" target="_blank">DotNetSpain</a> 2015 about Complex Event Processing, Immutability and Projections with <a title="GetEventStore" href="http://geteventstore.com" target="_blank">EventStore</a>.</p>
<p>So, if you are interested come and say hi!</p>
<img src="/files/2015/02/sesiondotnetspain-1024x403.png" class="border" width="625" height="246" title="Session">

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2015/02/17/speaking-at-dotnetspain-conference/" data-id="cjdt7b67n000dak81gxh86z5v" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2015/02/17/speaking-at-dotnetspain-conference/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2015/02/17/speaking-at-dotnetspain-conference/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-webcast-about-soa-ddd-cqrs-with-nservicebus" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2012/11/05/webcast-about-soa-ddd-cqrs-with-nservicebus/">Webcast about SOA, DDD &amp; CQRS with NServiceBus</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2012/11/05/webcast-about-soa-ddd-cqrs-with-nservicebus/">
            <time datetime="2012-11-05T10:46:09.000Z" itemprop="datePublished">2012-11-05</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Architecture/NServiceBus/">NServiceBus</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CQRS/">CQRS</a>, <a class="tag-link" href="/tags/DDD/">DDD</a>, <a class="tag-link" href="/tags/NServiceBus/">NServiceBus</a>, <a class="tag-link" href="/tags/SOA/">SOA</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>I will be giving a Webcast tomorrow about SOA, DDD, CQRS with NServiceBus in Spanish. In this talk I will cover the DDD strategic design, bounded contexts and how to model domain logic through NServiceBus Sagas.</p>
<p>You can see the details in the following link:</p>
<p><a href="https://msevents.microsoft.com/CUI/EventDetail.aspx?EventID=1032535739&Culture=es-ES&community=0" target="_blank"><img class="aligncenter" alt="" src="https://mseventsww.microsoft.com/BannerImages/567e02dc-4da6-42a6-b02f-74f06c434dc7.jpg"></a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2012/11/05/webcast-about-soa-ddd-cqrs-with-nservicebus/" data-id="cjdt7b67l000cak81kumko2cb" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2012/11/05/webcast-about-soa-ddd-cqrs-with-nservicebus/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2012/11/05/webcast-about-soa-ddd-cqrs-with-nservicebus/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-nservicebus-dry-with-unobtrusive-conventions" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2012/10/16/nservicebus-dry-with-unobtrusive-conventions/">NServiceBus: DRY with unobtrusive conventions</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2012/10/16/nservicebus-dry-with-unobtrusive-conventions/">
            <time datetime="2012-10-16T08:20:11.000Z" itemprop="datePublished">2012-10-16</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Architecture/NServiceBus/">NServiceBus</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/NServiceBus/">NServiceBus</a>, <a class="tag-link" href="/tags/SOA/">SOA</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>Many times when working with NServiceBus in <a href="http://nservicebus.com/docs/Samples/UnobtrusiveModeSample.aspx" target="_blank">unobtrusive mode</a> you may feel that you are repeating the same conventions over and over again on all the endpoints.</p>
<p>The <strong>IWantToRunBeforeConfiguration</strong> interface is a great help in order to embrace the DRY principle.</p>
<p>Just define your implementation in an assembly referenced by all the endpoints:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UnobtrusiveConventions</span> : <span class="title">IWantToRunBeforeConfiguration</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Init</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Configure.Instance</span><br><span class="line">            .DefiningCommandsAs(t =&gt; t.Namespace != <span class="literal">null</span></span><br><span class="line">                &amp;&amp; t.Namespace.EndsWith(<span class="string">"Commands"</span>))</span><br><span class="line">            .DefiningEventsAs(t =&gt;; t.Namespace != <span class="literal">null</span></span><br><span class="line">                &amp;&amp; t.Namespace.EndsWith(<span class="string">"Events"</span>))</span><br><span class="line">            .DefiningMessagesAs(t =&gt; t.Namespace != <span class="literal">null</span></span><br><span class="line">                &amp;&amp; t.Namespace.EndsWith(<span class="string">"Messages"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>and NServiceBus will pick this class automatically for each endpoint.</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2012/10/16/nservicebus-dry-with-unobtrusive-conventions/" data-id="cjdt7b67j0008ak81qot91skn" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2012/10/16/nservicebus-dry-with-unobtrusive-conventions/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2012/10/16/nservicebus-dry-with-unobtrusive-conventions/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-nservicebus-training" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/2012/09/11/nservicebus-training/">NServiceBus Training</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2012/09/11/nservicebus-training/">
            <time datetime="2012-09-11T21:28:47.000Z" itemprop="datePublished">2012-09-11</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Architecture/">Architecture</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CQRS/">CQRS</a>, <a class="tag-link" href="/tags/DDD/">DDD</a>, <a class="tag-link" href="/tags/NServiceBus/">NServiceBus</a>, <a class="tag-link" href="/tags/SOA/">SOA</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>I will be giving the <a href="http://www.udidahan.com/" target="_blank"><strong>Udi Dahan</strong></a>&#8216;s Enterprise Development with <a href="http://www.nservicebus.com" target="_blank">NServiceBus </a>4-day course in Spain at:</p>
<ul>
<li><a title="Register" href="http://masterarquitecturabcn.eventbrite.com/" target="_blank">November 26. Barcelona</a></li>
<li><a title="Register" href="http://masterarquitecturamad.eventbrite.com/" target="_blank">December 10. Madrid</a></li>
</ul>
<p>More info at: <a href="http://udidahan.com/2012/10/12/training-for-this-winter/" target="_blank">http://udidahan.com/2012/10/12/training-for-this-winter/</a></p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.serrate.net/2012/09/11/nservicebus-training/" data-id="cjdt7b6740002ak81pdr4otd0" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.serrate.net/2012/09/11/nservicebus-training/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://www.serrate.net/2012/09/11/nservicebus-training/">Comments</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
</section>
            
                
<aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/02/18/logistic-regression-with-tensorflow/" class="thumbnail">
    
    
        <span style="background-image:url(/files/2018/02/HoursStudiedxHoursSlept.png)" alt="Logistic Regression with TensorFlow" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Machine-Learning/">Machine Learning</a></p>
                            <p class="item-title"><a href="/2018/02/18/logistic-regression-with-tensorflow/" class="title">Logistic Regression with TensorFlow</a></p>
                            <p class="item-date"><time datetime="2018-02-17T23:00:00.000Z" itemprop="datePublished">2018-02-18</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/01/16/logistic-regression-for-deep-learning-part-i/" class="thumbnail">
    
    
        <span style="background-image:url(/files/2018/01/sigmoid.png)" alt="Logistic Regression for Deep Learning" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Machine-Learning/">Machine Learning</a></p>
                            <p class="item-title"><a href="/2018/01/16/logistic-regression-for-deep-learning-part-i/" class="title">Logistic Regression for Deep Learning</a></p>
                            <p class="item-date"><time datetime="2018-01-15T23:00:00.000Z" itemprop="datePublished">2018-01-16</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/03/15/preview-of-kafka-streams/" class="thumbnail">
    
    
        <span style="background-image:url(/files/2016/03/KafkaStreams-2.png)" alt="Preview of Kafka Streams" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Architecture/">Architecture</a></p>
                            <p class="item-title"><a href="/2016/03/15/preview-of-kafka-streams/" class="title">Preview of Kafka Streams</a></p>
                            <p class="item-date"><time datetime="2016-03-15T01:02:29.000Z" itemprop="datePublished">2016-03-15</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/02/07/sentiment-analysis-of-tweets/" class="thumbnail">
    
    
        <span style="background-image:url(/files/2016/02/TwitterTopology_Analysis.png)" alt="Sentiment analysis of tweets" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Architecture/">Architecture</a></p>
                            <p class="item-title"><a href="/2016/02/07/sentiment-analysis-of-tweets/" class="title">Sentiment analysis of tweets</a></p>
                            <p class="item-date"><time datetime="2016-02-07T15:40:34.000Z" itemprop="datePublished">2016-02-07</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/" class="thumbnail">
    
    
        <span style="background-image:url(/files/2016/02/TwitterStreaming.png)" alt="Analysis of twitter streams with Kafka and Storm" class="thumbnail-image"></span>
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Architecture/">Architecture</a></p>
                            <p class="item-title"><a href="/2016/01/05/analysis-of-twitter-streams-with-kafka-and-storm/" class="title">Analysis of twitter streams with Kafka and Storm</a></p>
                            <p class="item-date"><time datetime="2016-01-05T01:24:07.000Z" itemprop="datePublished">2016-01-05</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/">Architecture</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Architecture/NServiceBus/">NServiceBus</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Machine-Learning/">Machine Learning</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/NoSQL/">NoSQL</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure/">Azure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BigData/">BigData</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CQRS/">CQRS</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cassandra/">Cassandra</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DDD/">DDD</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DeepLearning/">DeepLearning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EventStore/">EventStore</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/">Kafka</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MachineLearning/">MachineLearning</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Misc/">Misc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NServiceBus/">NServiceBus</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NoSQL/">NoSQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SOA/">SOA</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Storm/">Storm</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TensorFlow/">TensorFlow</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/Azure/" style="font-size: 10px;">Azure</a> <a href="/tags/BigData/" style="font-size: 20px;">BigData</a> <a href="/tags/CQRS/" style="font-size: 15px;">CQRS</a> <a href="/tags/Cassandra/" style="font-size: 12.5px;">Cassandra</a> <a href="/tags/DDD/" style="font-size: 15px;">DDD</a> <a href="/tags/DeepLearning/" style="font-size: 12.5px;">DeepLearning</a> <a href="/tags/EventStore/" style="font-size: 10px;">EventStore</a> <a href="/tags/Kafka/" style="font-size: 12.5px;">Kafka</a> <a href="/tags/MachineLearning/" style="font-size: 12.5px;">MachineLearning</a> <a href="/tags/Misc/" style="font-size: 10px;">Misc</a> <a href="/tags/NServiceBus/" style="font-size: 15px;">NServiceBus</a> <a href="/tags/NoSQL/" style="font-size: 10px;">NoSQL</a> <a href="/tags/SOA/" style="font-size: 17.5px;">SOA</a> <a href="/tags/Storm/" style="font-size: 15px;">Storm</a> <a href="/tags/TensorFlow/" style="font-size: 10px;">TensorFlow</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://www.serrate.es">serrate.es</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2018 Marçal Serrate<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
        this.page.identifier = 'undefined';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'serrate-en' + '.disqus.com/count.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>




    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>